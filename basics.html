<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Scala School - Basics</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link rel="stylesheet" href="/scala_school/bootstrap-1.1.0.min.css">

  </head>

  <body>
  
    <div class="topbar">
      <div class="fill">
        <div class="container fixed">
          <h3><a href="index.html">Basics</a></h3>
          <ul class="nav secondary-nav">
            
            
              <li><a href="basics2.html">Next&raquo;</a></li>
            
          </ul>

        </div>
      </div>
    </div>

    <div class="container" style="padding-top: 60px;">
      <p>This lesson covers:</p>
<ul>
	<li><a href="#overview">About this class</a></li>
	<li><a href="#expressions">expressions</a></li>
	<li><a href="#val">values</a></li>
	<li><a href="#functions">functions</a></li>
	<li><a href="#class">classes</a></li>
	<li><a href="#extends">basic inheritance</a></li>
	<li><a href="#trait">traits</a></li>
	<li><a href="#types">types</a></li>
</ul>
<h2 id="overview">About this class</h2>
<p>The first few weeks will cover basic syntax and concepts.  Then we&#8217;ll start to open it up with more exercises.</p>
<p>Some examples will be given as if written in the interpreter, others as if written in a source file.</p>
<p>Having an interpreter available makes it easy to explore a problem space.</p>
<h3>Why Scala?</h3>
<ul>
	<li>Expressive
	<ul>
		<li>First-class functions</li>
		<li>Closures</li>
	</ul></li>
	<li>Concise
	<ul>
		<li>Type inference</li>
		<li>Literal syntax for function creation</li>
	</ul></li>
	<li>Java interopability
	<ul>
		<li>Can reuse java libraries</li>
		<li>Can reuse java tools</li>
		<li>No performance penalty</li>
	</ul></li>
</ul>
<h3>How Scala?</h3>
<ul>
	<li>Compiles to java bytecode</li>
	<li>Works with any standard <span class="caps">JVM</span>
	<ul>
		<li>Or even some non-standard JVMs like Dalvik</li>
		<li>Scala compiler written by author of Java compiler</li>
	</ul></li>
</ul>
<h3>Think Scala</h3>
<p>Scala is not just a nicer Java.  You should learn it with a fresh mind, you will get more out of these classes.</p>
<h3>Start the Interpreter</h3>
<p>Start the included <code>sbt console</code>.</p>
<pre>
$ sbt console

[...]

Welcome to Scala version 2.8.0.final (Java HotSpot(TM) 64-Bit Server VM, Java 1.6.0_20).
Type in expressions to have them evaluated.
Type :help for more information.

scala&gt;
</pre>
<h2 id="expressions">Expressions</h2>
<pre>
scala&gt; 1 + 1
res0: Int = 2
</pre>
<p>res0 is an automatically created value name given by the interpreter to the result of your expression.  It has the type Int and contains the Integer 2.</p>
<p>(Almost) everything in Scala is an expression.</p>
<h2 id="val">Values</h2>
<p>You can give the result of an expression a name.</p>
<pre>
scala&gt; val two = 1 + 1
two: Int = 2
</pre>
<p>You cannot change the binding to a val.</p>
<h3>Variables</h3>
<p>If you need to change the binding, you can use a <code>var</code> instead</p>
<pre>
scala&gt; var name = "steve"
name: java.lang.String = steve

scala&gt; name = "marius"
name: java.lang.String = marius
</pre>
<h2 id="functions">Functions</h2>
<p>You can create functions with def.</p>
<pre>
scala&gt; def addOne(m: Int): Int = m + 1
addOne: (m: Int)Int
</pre>
<p>In Scala, you need to specify the type signature for function parameters.  The interpreter happily repeats the type signature back to you.</p>
<pre>
scala&gt; val three = addOne(2)
three: Int = 3
</pre>
<p>You can leave off parens on functions with no arguments</p>
<pre>
scala&gt; def three() = 1 + 2
three: ()Int

scala&gt; three()
res2: Int = 3

scala&gt; three
res3: Int = 3
</pre>
<h3>Anonymous Functions</h3>
<p>You can create anonymous functions.</p>
<pre>
scala&gt; (x: Int) =&gt; x + 1
res2: (Int) =&gt; Int = &lt;function1&gt;
</pre>
<p>This function adds 1 to an Int named x.</p>
<pre>
scala&gt; res2(1)
res3: Int = 2
</pre>
<p>You can pass anonymous functions around or save them into vals.</p>
<pre>
scala&gt; val addOne = (x: Int) =&gt; x + 1
addOne: (Int) =&gt; Int = &lt;function1&gt;

scala&gt; addOne(1)
res4: Int = 2
</pre>
<p>If your function is made up of many expressions, you can use {} to give yourself some breathing room.</p>
<pre>
def timesTwo(i: Int): Int = {
  println("hello world")
  i * 2
}
</pre>
<p>This is also true of an anonymous function</p>
<pre>
scala&gt; { i: Int =&gt;
  println("hello world")
  i * 2
}
res0: (Int) =&gt; Int = &lt;function1&gt;
</pre>
<p>You will see this syntax often used when passing an anonymous function as an argument.</p>
<h3>Partial application</h3>
<p>You can partially apply a function with an underscore, which gives you another function.</p>
<pre>
scala&gt; def adder(m: Int, n: Int) = m + n
adder: (m: Int,n: Int)Int
</pre>

<pre>
scala&gt; val add2 = adder(2, _:Int)
add2: (Int) =&gt; Int = &lt;function1&gt;

scala&gt; add2(3)
res50: Int = 5
</pre>
<p>You can partially apply any argument in the argument list, not just the last one.</p>
<h3>Curried functions</h3>
<p>Sometimes it makes sense to let people apply some arguments to your function now and others later.</p>
<p>Here&#8217;s an example of a function that lets you build multipliers of two numbers together. At one call site, you&#8217;ll decide which is the multiplier and at a later call site, you&#8217;ll choose a multipicand.</p>
<pre>
scala&gt; def multiply(m: Int)(n: Int): Int = m * n
multiply: (m: Int)(n: Int)Int
</pre>
<p>You can call it directly with both arguments.</p>
<pre>
scala&gt; multiply(2)(3)
res0: Int = 6
</pre>
<p>You can fill in the first parameter and partially apply the second.</p>
<pre>
scala&gt; val timesTwo = multiply(2) _
timesTwo: (Int) =&gt; Int = &lt;function1&gt;

scala&gt; timesTwo(3)
res1: Int = 6
</pre>
<p>You can take any function of multiple arguments and curry it. Let&#8217;s try with our earlier <code>adder</code></p>
<pre>
scala&gt; (adder _).curried
res1: (Int) =&gt; (Int) =&gt; Int = &lt;function1&gt;
</pre>
<h3>Variable length arguments</h3>
<p>There is a special syntax for methods that can take parameters of a repeated type.</p>
<pre>
def capitalizeAll(args: String*) = {
  args.map { arg =&gt;
    arg.capitalize
  }
}
</pre>
<h2 id="class">Classes</h2>
<pre>
scala&gt; class Calculator {
     |   val brand: String = "HP"
     |   def add(m: Int, n: Int): Int = m + n
     | }
defined class Calculator

scala&gt; val calc = new Calculator
calc: Calculator = Calculator@e75a11

scala&gt; calc.add(1, 2)
res1: Int = 3

scala&gt; calc.brand
res2: String = "HP"
</pre>
<p>Contained are examples are defining methods with def and fields with val.  methods are just functions that can access the state of the class.</p>
<h3>Constructor</h3>
<p>Constructors aren&#8217;t special methods, they are the code outside of method definitions in your class.  Let&#8217;s extend our Calculator example to take a constructor argument and use it to initialize internal state.</p>
<pre>
class Calculator(brand: String) {
  /**
   * A constructor.
   */
  val color: String = if (brand == "TI") {
    "blue"
  } else if (brand == "HP") {
    "black"
  } else {
    "white"
  }

  // An instance method.
  def add(m: Int, n: Int): Int = m + n
}
</pre>
<p>Note the two different styles of comments.</p>
<h3>Expressions</h3>
<p>Our BasicCalculator example gave an example of how Scala is expression-oriented.  The value color was bound based on an if/else expression. Scala is highly expression-oriented: most things are expressions rather than statements.</p>
<h2 id="extends">Inheritance</h2>
<pre>
class ScientificCalculator(brand: String) extends Calculator(brand) {
  def log(m: Double, base: Double) = math.log(m) / math.log(base)
}
</pre>
<p><strong>See Also</strong> Effective Scala points out that a <a href="http://twitter.github.com/effectivescala/#Types%20and%20Generics-Type%20aliases">Type alias</a> is better than <code>extends</code> if the subclass isn&#8217;t actually different from the superclass. A Tour of Scala describes <a href="http://www.scala-lang.org/node/125">Subclassing</a>.</p>
<h3>Overloading methods</h3>
<pre>
class EvenMoreScientificCalculator(brand: String) extends ScientificCalculator(brand) {
  def log(m: Int): Double = log(m, math.exp(1))
}
</pre>
<h2 id="trait">Traits</h2>
<p><code>traits</code> are collections of fields and behaviors that you can extend or mixin to your classes.</p>
<pre>
trait Car {
  val brand: String
}
</pre>

<pre>
class BMW extends Car {
  val brand = "BMW"
}
</pre>
<p><strong>See Also</strong> Effective Scala has opinions about <a href="http://twitter.github.com/effectivescala/#Object oriented programming-Traits">trait</a>.</p>
<h2 id="types">Types</h2>
<p>Earlier, you saw that we defined a function that took an <code>Int</code> which is a type of Number. Functions can also be generic and work on any type. When that occurs, you&#8217;ll see a type parameter introduced with the square bracket syntax. Here&#8217;s an example of a Cache of generic Keys and Values.</p>
<pre>
trait Cache[K, V] {
  def get(key: K): V
  def put(key: K, value: V)
  def delete(key: K)
}
</pre>
<p>Methods can also have type parameters introduced.</p>
<pre>
def remove[K](key: K)
</pre>
    </div> <!-- /container -->

    <div id="footer">
      <div class="inner">
        <div class="container">
          <p>
            Built at <a href="http://twitter.com/twitter" target="_blank">@twitter</a> by <a href="http://twitter.com/stevej" target="_blank">@stevej</a> and <a href="http://twitter.com/marius" target="_blank">@marius</a> with much help from <a href="http://twitter.com/evanm" target="_blank">@evanm</a>, <a href="http://twitter.com/sprsquish" target="_blank">@sprsquish</a>, <a href="http://twitter.com/kevino" target="_blank">@kevino</a>, <a href="http://twitter.com/zuercher" target="_blank">@zuercher</a>, <a href="http://twitter.com/timtrueman" target="_blank">@timtrueman</a>, <a href="http://twitter.com/wickman" target="_blank">@wickman</a> and <a href="http://twitter.com/mccv" target="_blank">@mccv</a><br />
            Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a>.
          </p>
        </div>
      </div>
    </div>

  </body>
</html>
